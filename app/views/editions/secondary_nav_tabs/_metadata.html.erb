<%= render "govuk_publishing_components/components/heading", {
  text: "Metadata",
  heading_level: 2,
  margin_bottom: 5,
} %>

<% if Edition::PUBLISHING_API_DRAFT_STATES.include? publication.state %>
  <%= form_for(@artefact, :html => { :class => "artefact", :id => "edit_artefact" }) do |f| %>
    <%= f.hidden_field :id, value: @artefact.id %>

    <%= render "govuk_publishing_components/components/input", {
      label: {
        text: "Slug",
      },
      hint: "If you change the slug of a published page, the old slug will automatically redirect to the new one.",
      name: "artefact[slug]",
      value: publication.slug,
      heading_level: 2,
      heading_size: "m",
    } %>

    <%= render "govuk_publishing_components/components/radio", {
      heading: "Language",
      name: "artefact[language]",
      inline: true,
      items: [
        {
          value: "en",
          text: "English",
          checked: publication.artefact.language == "en" ? true : false,
        },
        {
          value: "cy",
          text: "Welsh",
          checked: publication.artefact.language == "cy" ? true : false,
        },
      ],
    } %>
    <%= render "govuk_publishing_components/components/button", {
      text: "Update",
    } %>
  <% end %>
<% else %>
<% end %>
